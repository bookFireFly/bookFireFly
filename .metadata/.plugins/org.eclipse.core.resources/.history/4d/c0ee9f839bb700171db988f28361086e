<%@ page language="java" contentType="text/html; charset=GBK"
    pageEncoding="GBK"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=GBK">
<title>验证输入的日期格式是否正确</title>
<script type="text/javascript">
function CheckData(INDate){
if (INDate==""){return ture;}
if (INDate.indexOf('-',0)!=-1){separate='-'}
else{
	if(INDate.indexOf('/',0)!=-1){separate="/"}
	else{return ture;}
}
area=INDate.indexOf(separate,0);
subYY=INDate.substr(0,area);
if (isNaN(subYY) || subYY<=0){return true;}
subMM=INDate.substr(area+1,INDate.indexOf(sepatate,area+1)-(area+1));
if (isNaN(subMM)||subMM<=0){return true;}
if (subMM.length<2){subMM="0"+subMM;}
area=INDate.lastIndexOf(separate);
subDD=INDate.substr(area+1,INDate.length-area-1);
if (isNaN(subDD)||subDD<=0){return true;}
if (eval(subDD)<10){subDD="0"+eval(subDD);}
NewDate = subYY+"-"+subMM+"-"+subDD;
if (NewDate.length!=10){return true;}
if (NewDate.substr(4,1)!="-"){
	return true;
}
if (NewDate.substr(7,1)!="-"){
	return true;
}
var MM=NewDate.substr(5,2);
var DD=NewDate.substr(8,2);
if ((subYY%4==0 && subYY%100!=0)||subYY%400==0){
	if (parseInt(MM)==2){
		if (DD>29){
			return true;
		}
	}
}else{
	if (parseInt(MM)==2){
		if (DD>28){
			return true;
		}
	}
}

}
</script>
</head>
<body>
<form action="" method="post" name="form1">
<table>
<input name="sDate" type="text" id="sDate">
<input name="Button" type="button" value="检测日期" onClick="check(form1)">
</table>
</form>

</body>
</html>